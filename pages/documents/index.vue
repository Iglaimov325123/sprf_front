<template>
  <div class="page-content" data-type="inner">
    <section class="blue" data-type="inner-head">
      <div class="center flex flex-just-b">
        <h1>Законодательство о Счетной палате</h1>
        <header-button text="" link="/" icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIgNkgxMkgxNS41QzE5LjA4OTkgNiAyMiA4LjkxMDE1IDIyIDEyLjVWMTIuNUMyMiAxNi4wODk5IDE5LjA4OTkgMTkgMTUuNSAxOUgxMkgyIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTYuOTQ5NzUgMTAuODk5TDIgNS45NDkyMkw2Ljk0OTc1IDAuOTk5NDcxIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+Cg=="></header-button>
      </div>
    </section>

    <section data-type="page-content">
      <div class="center">
        <client-only placeholder="Share"><share-btn-fix :link="currentUrl" :text="seo.DESCRIPTION" :id="0" :name="seo.TITLE"></share-btn-fix></client-only>
        <div class="page-contain">
          <div class="doc-list">

            <div class="doc-item" @click="openItem">
              <div class="doc-title">
                <h3>Конституция Российской Федерации</h3>
                <p>Принята народом России 12 декабря 1993 года, вступила в силу 25 декабря 1993 года.</p>
              </div>
              <div class="doc-detail">
                <p>В ред. Федеральных законов от 7 мая 2013 № 102-ФЗ, от 23 июля 2013 № 251-ФЗ, от 28 декабря 2013 № 396-ФЗ, от 12 марта 2014 № 29-ФЗ, от 4 ноября 2014 № 341-ФЗ, от 5 октября 2015 № 285-ФЗ, от 27 октября 2015 № 291-ФЗ, от 3 июля 2016 № 236-ФЗ, от 07.02.2017 № 11-ФЗ, от 29.05.2019 № 106-ФЗ. Принят Государственной Думой 22 марта 2013 года. Одобрен Советом Федерации 27 марта 2013 года.</p>
                <p>Глава 2. Состав и структура Счетной палаты</p>

                <a href="#" target="_blank" class="doc-download">
                  <h4>Полная версия Федерального закона от 5 апреля 2013 года № 41-ФЗ «О Счетной палате Российской Федерации»</h4>
                  <div class="flex">
                    <small>Опубликовано 4 июля</small>
                    PDF(5.5 Мб)
                  </div>
                </a>
              </div>
            </div>

            <div class="doc-item" @click="openItem">
              <div class="doc-title">
                <h3>Федеральный закон от 5 апреля 2013 года № 41-ФЗ «О Счетной палате Российской Федерации»</h3>
                <p>В ред. Федеральных законов от 7 мая 2013 № 102-ФЗ, от 23 июля 2013 № 251-ФЗ, от 28 декабря 2013 № 396-ФЗ, от 12 марта 2014 № 29-ФЗ, от 4 ноября 2014 № 341-ФЗ, от 5 октября 2015 № 285-ФЗ, от 27 октября 2015 № 291-ФЗ, от 3 июля 2016 № 236-ФЗ, от 07.02.2017 № 11-ФЗ, от 29.05.2019 № 106-ФЗ. Принят Государственной Думой 22 марта 2013 года. Одобрен Советом Федерации 27 марта 2013 года.</p>
              </div>
              <div class="doc-detail">
                <p>Глава 2. Состав и структура Счетной палаты</p>

                <a href="#" target="_blank" class="doc-download">
                  <h4>Полная версия Федерального закона от 5 апреля 2013 года № 41-ФЗ «О Счетной палате Российской Федерации»</h4>
                  <div class="flex">
                    <small>Опубликовано 4 июля</small>
                    PDF(5.5 Мб)
                  </div>
                </a>
              </div>
            </div>

            <div class="doc-item" @click="openItem">
              <div class="doc-title">
                <h3>Федеральный закон от 7 февраля 2011 г. N 6-ФЗ «Об общих принципах организации и деятельности контрольно-счетных органов субъектов Российской Федерации и муниципальных образований»</h3>
                <p>Принят Государственной Думой 28 января 2011 года, одобрен Советом Федерации 2 февраля 2011 года (в ред.  Федерального закона от 2  июля 2013 г. №185-ФЗ — Собрание законодательства Российской Федерации, 2013, №27,  ст. 3477; Федерального закона от 4 марта 2014 г. №23-ФЗ — Собрание законодательства Российской Федерации,  2014,  №10, ст. 954; Федерального закона от 3 апреля 2017  г.  №64-ФЗ — Собрание законодательства Российской Федерации,  2017,  №15,  ст. 2139; Федерального закона от 27 декабря 2018 г. №559-ФЗ;  Федерального закона от 27 декабря 2018 г. №566-ФЗ)</p>
              </div>
              <div class="doc-detail">
                <p>В ред. Федеральных законов от 7 мая 2013 № 102-ФЗ, от 23 июля 2013 № 251-ФЗ, от 28 декабря 2013 № 396-ФЗ, от 12 марта 2014 № 29-ФЗ, от 4 ноября 2014 № 341-ФЗ, от 5 октября 2015 № 285-ФЗ, от 27 октября 2015 № 291-ФЗ, от 3 июля 2016 № 236-ФЗ, от 07.02.2017 № 11-ФЗ, от 29.05.2019 № 106-ФЗ. Принят Государственной Думой 22 марта 2013 года. Одобрен Советом Федерации 27 марта 2013 года.</p>
                <p>Глава 2. Состав и структура Счетной палаты</p>

                <a href="#" target="_blank" class="doc-download">
                  <h4>Полная версия Федерального закона от 5 апреля 2013 года № 41-ФЗ «О Счетной палате Российской Федерации»</h4>
                  <div class="flex">
                    <small>Опубликовано 4 июля</small>
                    PDF(5.5 Мб)
                  </div>
                </a>
              </div>
            </div>

          </div>
        </div>
      </div>
    </section>

  </div>
</template>

<script>
const headerButton = require('~/components/ui/head-button').default;
const imageDesc = require('~/components/ui/image-desc').default;
const cardPhotos = require('~/components/ui/cards/card-photos').default;
const cardSimple = require('~/components/ui/cards/card-simple').default;
const shareBtnFix = require('~/components/ui/share-button-fix').default;

let that;
export default {
  data() {
    return {
      currentUrl: '',
    }
  },
  created() {
    that = this;
  },
  mounted() {
    this.currentUrl = window.location.href;
  },
  methods: {
    openItem(event) {
      let elem = event.target || event.srcElement;
      if(!elem.classList.contains('doc-item')) {
        elem = elem.closest('.doc-item');
      }

      let docDetail = elem.querySelector('.doc-detail');

      if(elem.dataset.active == 'true') {
        elem.dataset.active = 'false';
        TweenMax.to(docDetail, 0.5, {height: 0, ease: Expo.easeOut});
      } else {
        elem.dataset.active = 'true';
        TweenMax.set(docDetail, {height: 'auto'});
        TweenMax.from(docDetail, 0.5, {height: 0, ease: Expo.easeOut});
      }

    }
  },
  components: {
    headerButton,
    imageDesc,
    cardPhotos,
    cardSimple,
    shareBtnFix
  }
}
</script>

<style lang="scss" scoped>
  .doc-list {
    .doc-item {
      padding: 0 0 20px;
      margin-bottom: 40px;
      border-bottom: 1px solid rgba(#000, 0.2);

      &:last-child {
        margin-bottom: 0;
        border-bottom: 0;
        padding-bottom: 0;
      }

      &[data-active="true"] {
        .doc-title {
          h3 {
            color: $lightblue;
          }
        }
      }

      .doc-title {
        padding: 0 0 20px;
        cursor: pointer;

        h3 {
          color: $blue;
          margin-bottom: 18px;
          transition: color 0.5s $cubic;
        }
      }

      .doc-detail {
        height: 0;
        overflow: hidden;
        position: relative;

        .doc-download {
          padding-top: 40px;
          display: block;

          .flex {
            margin-top: 20px;
            color: #000;

            small {
              display: block;
              margin-right: 24px;
              color: $lightblue;
            }
          }
        }
      }

      // &:first-child {
      //   .doc-detail {
      //     height: auto;
      //   }
      // }
    }
  }

  // Белая тема для слабовидящих:
  .d-white {
    .doc-list {
      .doc-item {
        .doc-title {
          h3 {
            color: #000;
          }
        }

        .doc-detail {
          .doc-download {
            .flex {
              small {
                color: #666;
              }
            }
          }
        }
      }
    }
  }

  // Темная тема для слабовидящих:
  .d-black {
    .doc-list {
      .doc-item {
        border-bottom: 1px solid rgba(#fff, 0.7);

        &:last-child {
          border-bottom: 0;
        }

        .doc-title {
          h3 {
            color: #fff;
          }
        }

        .doc-detail {
          .doc-download {
            .flex {
              color: #fff;

              small {
                color: #888;
              }
            }
          }
        }
      }
    }
  }

  // Синяя тема для слабовидящих:
  .d-blue {
    .doc-list {
      .doc-item {
        border-color: 1px solid rgba($ddk, 0.7);

        .doc-title {
          h3 {
            color: $ddk;
          }
        }
        .doc-detail {
          .doc-download {
            .flex {
              small {
                color: rgba($ddk, 0.8);
              }
            }
          }
        }
      }
    }
  }
</style>
